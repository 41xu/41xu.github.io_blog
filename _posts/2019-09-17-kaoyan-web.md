---
title:	考研计网笔记
tags:	考研 计网
---
# 计算机网络

[TOC]

> [嘉豪男神的笔记](https://github.com/code2play/Notes/blob/master/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.md)

## 概论

### 网络边缘、网络核心

####网络核心

网络核心指大量的网络和连接网络的路由器组成，为网络边缘提供连通性和交换服务

#### 网络边缘

网络边缘指所有连在因特网上的的主机

### 分组交换、电路交换

####分组交换

##### 存储转发机制

存储转发机制是指在交换机能够开始向输出链路传输该分组的第一个比特之前，必须要收到整个分组。就是说不能一收到这个分组的一些字节就立刻转发出去，而是得等到这个分组全部字节都收到都在路由器这里缓存完了再转发出去。

存储转发的时候 假设忽略 传播时延。

<img src="/img/route.png" style="zoom:50%;" />

从源要往目的传`3`个分组，传输速度: `Rbps`；每个分组长`L bits`

源在`0s`开始传输，由于忽略了传播时延，就是说离得再远也不考虑传播时间因为接近光速，那么在`0s`的时候路由器就开始接收第一个数据，但是第`L/R `的时候才完整的收到第一组的数据，然后路由器向目的地转发收到的分组，`L/R`的时候就开始转发，与此同时源发第二个分组。那么时刻`2L/R`的时候第二个分组也发完了第一个分组目的地也收到了。时刻`3L/R`的时候第三个分组也开始发了，第二个分组目的地也收到了，时刻`4L/R`的时候第三个分组也收到了。

那么把这个结论推广到`N`条速率均为`R`的链路组成的路径，（也就是源到目的之间有`N-1`个路由器），从源到目的转发1个分组的端到端时延（传输时延）：$d_{端到端}=N\frac{L}{R}$ 

##### 排队时延和分组丢失

每个分组交换机有多个链路与之相连，每个相连的链路该分组的交换机都有一个输出缓存（输出队列）用于存储准备发往那条链路的分组。所以除了存储转发时延外分组还要承受输出缓存的排队时延（因为缓存有限）。排队时延不断变化，取决于当前网络的拥塞程度。如果后到达的分组发现缓存已经被其他等待的分组充满了，这个时候就会产生**分组丢失（丢包）**，后到达的或者已经排队的分组之一将被丢弃。

经过上面的分析会发现排队时延实际上和队列长度、流量等等有关。实际计算的时候也非常小忽略不计除非题目明确要求。

##### 传输时延

传输时延也可以叫发送时延，就是上面的存储转发机制中提到的那个时间，即将1个分组的所有比特推送（传输）向链路的时间。

#####传播时延

一旦比特被推倒了链路，那么从链路的起点到路由器的这个传播过程需要的时间就是传播时延。明显可以得到传播时延=两台路由器间的距离/链路的传播速度

##### 处理时延

路由器检查分组首部、根据路由表决定将分组导向哪条链路、差错检验这些时间都算处理时延。处理时延实际上非常小计算的时候一般都忽略不计除非题目明确要求。

##### 分组交换总时延

$d_{total}=d_{proc}+d_{queue}+d_{trans}+d_{prop}$, 分别对应总时延、处理时延、排队时延、传输时延、传播时延

####电路交换

电路交换网络中，端系统通信期间，预留了端系统间通信需要的一些资源（如缓存、链路传输速率）；而分组交换中这些资源并不预留，会话的报文按需使用这些资源（所以后来的就要等待这些资源也就是排队，而电路交换中我先预留了就不用等待）。

电路交换的一个例子是**传统的电话网络**。在通信前要先建立好一条链路然后维护这个连接状态，在网络创建这个电路时，在连接期间在该链路上预留了恒定的传输速率，特就是说预留了带宽。 

所以两台主机要进行通信时要创建好一条专用的端到端链接。（那么可想而知整个网络结构非常复杂...)并且这种预留链接会带来这样的影响：如果两个交换机之间的每条链路有`1Mbps`的传输速率，但是每条链路留了4条电路，那么这4条电路就平分了网络带宽，也就是每个端到端电路交换能获得`250kbps`的传输速率（这样的话效率就不太高，将会造成**带宽的浪费**）

##### 频分复用和时分复用

###### 频分复用FDM

频分复用就是频率域上被划分成不同的链路

###### 时分复用TDM

时分复用就是在时域上划分出固定大小的帧，每个帧有划分成固定数量的时隙。

在TDM中一条电路的传输速率=帧速率x一个时隙中的比特数量。如一个链路每秒传8000个帧，每时隙8个bit，那么电路的传输速率64kbps

##### 电路交换时延

建立连接+传输+传播

####分组交换和电路交换的对比

王道上1.1-4的这个题

传输的报文共`x`比特，源到终点共经过`k`段链路，每段链路的传播时延`d`秒，数据传输速率`b`比特/秒，电路交换的建立电路时间`s`秒，分组交换时的分组长度`p`比特。

```
电路交换：
			传播：x/b
			传输：kd
			建立连接：s
			总：s + x/b + kd 
分组交换：
			当t=x/b时发完最后一个bit
			为了到达目的地最后一个比特要经过(k-1)个交换机的转发，每个转发时间p/b
			总延迟：kd + x/b + (k-1)p/b
```

看看[这个博客](https://blog.csdn.net/vivianluolita/article/details/49636113)讲的挺好

###计算机网络的功能

- 数据通信：最基本、最重要的功能
- 资源共享：硬件、软件、数据共享
- 分布式处理
- 提高可靠性
- 负载均衡

## 物理层

### 物理层设备

#### 中继器/转发器

将信号整形并放大再转发，消除传播过程中因噪声的因素噪声的失真和衰减，并不是简单的信号放大

####集线器Hub

#### 放大器

放大模拟信号，只是将衰减的信号放大

## 数据链路层

### 差错控制

#### 校验码

[这个博客](https://www.maixj.net/ict/maju-15632)讲的就挺好，还有[百度百科](https://baike.baidu.com/item/码距/5907009?fr=aladdin)

##### 码距

##### 海明码

假设校验位有k位，那么校验码最多有$2^k$个，显然其中有一个校验码是正确的，那么就能校验出$2^k-1$个错位。所以，如果能满足一个$n$位数$n+k≤2^k-1$,则在理论上即可判断出哪一位数出错
海明码纠错$d$位，需要码距$2d+1$；检错$d$位，需要码距$d+1$即可

[这个博客讲汉明吗选择码距和纠错、检错位数讲的还挺好的](http://blog.sina.com.cn/s/blog_58649eb30100pfju.html)

### 局域网分类

[以太网、令牌环网、FDDI](https://blog.csdn.net/yanghonker/article/details/20995597)

