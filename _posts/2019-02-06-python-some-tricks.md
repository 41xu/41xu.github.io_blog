---
title:	Some Tricks about Python
tags:	python
---

> 这篇博客记录一些关于python我仍不熟悉的用法和一些我觉得好神奇的东西～

**由于作者我本人使用的是Python3所以一下tricks&tips主要是针对python3！**

## 友情链接之前发过的python博客

[装饰器与闭包](http://xusy2333.cn/2018/09/06/python-decorator/)

[Generators 生成器](http://xusy2333.cn/2018/09/19/generator-iterator/)

## zip()和zip(\*)

将几个迭代器中元素`映射`的打包成对应的元组，返回元组组成对象，节约内存

当迭代器中元素个数不一样时，按照最短的压缩映射

利用单星号`*`操作符，可将元组解映射为列表

### 用法

zip([iterable, ...])

- iterable: 迭代器
- 返回值：python3返回一个对象object
- zip(\*)可理解为解映射，可以看成是zip的逆运算

```
>>> a = [1,2,3]
>>> b = [4,5,6]
>>> zip(a,b)
<zip object at 0x1011a1648>
>>> list(zip(a,b))
[(1, 4), (2, 5), (3, 6)]
>>> c = [4,5,6,7,8]
>>> list(zip(a,c))
[(1, 4), (2, 5), (3, 6)]
>>> temp = zip(a,b)
>>> a1, b1 = zip(*temp)
>>> a1
(1, 2, 3)
>>> b1
(4, 5, 6)
```

### 实现矩阵转置

你可能会问，实现矩阵转置为什么需要zip函数呢，numpy里不是有矩阵转置函数吗？

当然我用zip函数都是因为写题不能用numpy呀..sigh 就不啰嗦这么多我们直接看看用法吧

```
>>> m = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]
>>> mt = zip(*m)
>>> list(mt)
[(1, 4, 7), (2, 5, 8), (3, 6, 9)]
```
我们的想法就是：m可以看作做过映射之后的东西，现在要解映射返回映射之前的迭代器，那就zip(\*);

或者可以看成，矩阵的转置可以看做是将矩阵每行第i个元素取出，对应的放到第i列去，这样就得到了转置。由于我们的输入m是`list(list)`,因此不能直接zip()，而zip(\*)的输入又恰好可以是iterable（当然这里没什么恰好的），因此我们可以把m整体放进zip(\*)中；如果将矩阵中每行都取出来放进zip中去也是没问题的，比如这样：
```
>>> m0 = [1, 2, 3]
>>> m1 = [4, 5, 6]
>>> m2 = [7, 8, 9]
>>> m=[m0, m1, m2]
>>> m
[[1, 2, 3], [4, 5, 6], [7, 8, 9]]
>>> list(zip(m0,m1,m2))
[(1, 4, 7), (2, 5, 8), (3, 6, 9)]
```

> 现在你已经掌握zip()和zip(\*)了！还会矩阵转置了！
